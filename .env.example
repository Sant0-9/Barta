# Database
# Container URL (used in docker-compose)
DATABASE_URL=postgresql+psycopg://postgres:postgres@db:5432/barta
# Local dev URL (host port mapping 5432->5433)
# DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5433/barta

# Redis  
# Container URL (used in docker-compose)
REDIS_URL=redis://redis:6379/0
# Local dev URL (host port mapping 6379->6380)
# REDIS_URL=redis://localhost:6380/0

# API Configuration
API_PORT=8000

# OpenAI (optional - fallback to deterministic vectors if missing)
# OPENAI_API_KEY=sk-...

# Retrieval Configuration
RERANKER_ENABLED=true
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RETRIEVAL_K_BM25=100
RETRIEVAL_K_DENSE=100
RETRIEVAL_MMR_K=40
RETRIEVAL_FINAL_K=8
RETRIEVAL_MMR_LAMBDA=0.7
CACHE_TTL_SECONDS=3600

# LLM Chat Configuration
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini
LLM_MAX_TOKENS=700
LLM_TEMPERATURE=0.2
CITATION_STRICT=true
PLAN_MAX_BULLETS=8